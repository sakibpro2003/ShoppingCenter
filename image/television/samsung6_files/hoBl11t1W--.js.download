;/*FB_PKG_DELIM*/

__d("SkywalkerHelpers",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.split("/").slice(0,-1);return a.some(function(a){return/\d/.test(a)})?null:a.join("_")}f.topicToUseCaseName=a}),66);
__d("SkywalkerManager",["Bootloader","Promise","SkywalkerHelpers","TransportSelectingClientSingleton","TransportSelectingClientUtils","gkx","nullthrows","promiseDone","regeneratorRuntime","requireDeferred"],(function(a,b,c,d,e,f,g){var h,i="request_stream",j="mqtt_skywalker",k="dgw_request_stream";a=function(){function a(){}var e=a.prototype;e.subscribe=function(a,b,d){d===void 0&&(d={});var e=this.$3(a,b,d);c("promiseDone")(e);return{getTopic:function(){return a},getContext:function(){return d.context},isUnsubscribed:function(){return this.$4},unsubscribe:function(){this.$4=!0;return e.then(function(a){return a.unsubscribe()})},$4:!1}};e.once=function(a,b,c){c===void 0&&(c={});var d=this.subscribe(a,function(){d.isUnsubscribed()||(d.unsubscribe(),b.apply(this,arguments))},c);return d};e.getSubscriptionType=function(a,e){var f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:g.next=2;return b("regeneratorRuntime").awrap(d("TransportSelectingClientUtils").isDGWSupportedSKYTopic(a));case 2:f=g.sent;if(!(f&&c("gkx")("21078"))){g.next=5;break}return g.abrupt("return",k);case 5:if(!(e!=null&&e.headers!=null)){g.next=7;break}return g.abrupt("return",i);case 7:if(!f){g.next=9;break}return g.abrupt("return",k);case 9:return g.abrupt("return",j);case 10:case"end":return g.stop()}},null,this)};e.getSubscriptions=function(){var a=[],b=this.$1;b!=null&&(a=b.getSubscriptions().map(function(a){return{getTopic:function(){return a.getTopic()},getMessageListener:function(){return a.getMessageListener()},getCreationTime:function(){return a.getCreationTime()},isUnsubscribed:function(){return!b.isSubscribed(a)}}}));return a};e.$3=function(a,e,f){var g,h,j,l,m;return b("regeneratorRuntime").async(function(n){while(1)switch(n.prev=n.next){case 0:n.next=2;return b("regeneratorRuntime").awrap(this.getSubscriptionType(a,f));case 2:g=n.sent;if(!(g===i)){n.next=8;break}h=f.headers!=null?f.headers.method:null;return n.abrupt("return",this.$5(c("nullthrows")(h),a,e,f));case 8:if(!(g===k)){n.next=14;break}l=f==null?void 0:(j=f.headers)==null?void 0:j.method;l==null&&(m=d("SkywalkerHelpers").topicToUseCaseName(a),m!=null?l="SKY:"+m:l="SKY");return n.abrupt("return",this.$5(c("nullthrows")(l),a,e,f));case 14:return n.abrupt("return",this.$6(a,e,f));case 15:case"end":return n.stop()}},null,this)};e.$6=function(a,c,d){var e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:f.next=2;return b("regeneratorRuntime").awrap(this.$7());case 2:e=f.sent;return f.abrupt("return",e.subscribe(a,c,d));case 4:case"end":return f.stop()}},null,this)};e.$5=function(a,d,e,f){var g,h,i,j,k;return b("regeneratorRuntime").async(function(l){while(1)switch(l.prev=l.next){case 0:l.next=2;return b("regeneratorRuntime").awrap(this.$8());case 2:g=l.sent;h=g.patchContext(f.context);i=babelHelpers["extends"]({},f.headers||{},{method:a,topic:d});j={onData:function(a){a=JSON.parse(a);var b=d!=null?d:a.topic;e({topic:b,payload:a.payload})},onTermination:function(a){return void 0},onLog:function(a){return void 0},onFlowStatus:function(a){return void 0}};l.next=8;return b("regeneratorRuntime").awrap(c("TransportSelectingClientSingleton").requestStream(i,JSON.stringify(h),j,f.instrumentationData));case 8:k=l.sent;f.onSubscribe&&f.onSubscribe({data:{},error:null});return l.abrupt("return",{unsubscribe:function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:f.onUnsubscribeEager&&f.onUnsubscribeEager(),k.cancel(),f.onUnsubscribe&&f.onUnsubscribe({data:{},error:null});case 3:case"end":return a.stop()}},null,this)}});case 11:case"end":return l.stop()}},null,this)};e.$7=function(){var a,d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.$1!=null)){e.next=2;break}return e.abrupt("return",this.$1);case 2:a=new(h||(h=b("Promise")))(function(a){c("Bootloader").loadModules(["MqttSkywalkerManager"],a,"SkywalkerManager")});e.next=5;return b("regeneratorRuntime").awrap(a);case 5:d=e.sent;this.$1=d;return e.abrupt("return",d);case 8:case"end":return e.stop()}},null,this)};e.$8=function(){var a,d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.$2!=null)){e.next=2;break}return e.abrupt("return",this.$2);case 2:a=new(h||(h=b("Promise")))(function(a){c("requireDeferred")("SkywalkerUtils").__setRef("SkywalkerManager").onReady(function(b){a(b)})});e.next=5;return b("regeneratorRuntime").awrap(a);case 5:d=e.sent;this.$2=d;return e.abrupt("return",d);case 8:case"end":return e.stop()}},null,this)};return a}();e=new a();g["default"]=e}),98);
__d("PluginLWIReload",["Cookie","CurrentUser","SkywalkerManager"],(function(a,b,c,d,e,f,g){"use strict";var h=12e4;function a(a){var b=0;Event.listen(a,"mousemove",function(){!c("CurrentUser").isLoggedInNow()&&c("Cookie").get("c_user")!=null&&Date.now()-b>h&&(b=Date.now(),window.location.reload())})}function b(a,b,d){var e=0;b="lwi_everywhere_plugin/"+b+","+d;d=c("SkywalkerManager").subscribe(b,function(a){a=JSON.parse(a.payload);(a==null?void 0:a.ebc_proxy_id)!==null&&Date.now()-e>h&&(e=Date.now(),window.location.reload())});a&&d.unsubscribe()}g.attachPluginReload=a;g.attachFBECreationPluginReload=b}),98);
__d("SkywalkerUtils",["CurrentLocale","RTISubscriptionManagerConfig"],(function(a,b,c,d,e,f){a={patchContext:function(a){a=a||{};a.locale=b("CurrentLocale").get();if(b("RTISubscriptionManagerConfig").assimilator){var c=b("RTISubscriptionManagerConfig").assimilator;c.tierType!=null&&(a.tierType=c.tierType);c.sandboxIP!=null&&c.sandboxPort!=null&&c.sandboxHostname!=null&&(a.sandboxIP=c.sandboxIP,a.sandboxPort=c.sandboxPort,a.sandboxHostname=c.sandboxHostname)}return a}};e.exports=a}),null);
__d("ErrorMetadata",["fb-error"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.addGlobalMetadata=function(b,c,d){a.addGlobalMetadata.call(this,b,c,d)};return b}(c("fb-error").ErrorMetadata);g["default"]=a}),98);